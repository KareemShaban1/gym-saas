# Replace your existing "location /api { ... }" block with this.
# Laravel needs REQUEST_URI to stay as /api/trainer/login (etc.) so routing works.

    location /api {
        root /www/wwwroot/gym.kareemsoft.org/gymflow-api/public;
        include fastcgi_params;
        fastcgi_pass unix:/tmp/php-cgi-82.sock;
        fastcgi_param SCRIPT_FILENAME $document_root/index.php;
        fastcgi_param SCRIPT_NAME /index.php;
        fastcgi_param REQUEST_URI $request_uri;
        fastcgi_param QUERY_STRING $query_string;
        fastcgi_hide_header X-Powered-By;
    }
# After editing: sudo nginx -t && sudo nginx -s reload
